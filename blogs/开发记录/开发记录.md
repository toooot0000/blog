# Blog开发记录

---

记录下这个Blog到底是咋弄出来的。

---

总之在吭哧吭哧搞了大概一个月之后总算是搞定了这个Blog。中间查了无数的文档踩了无数的坑，顺便还有“以为自己做完了结果上手机一看全乱了”的糟心经历。但是——

> 踩坑是学习的必然过程。
>
> By 我自己

在这种精神的激励之下，我直面了各种奇妙的bug，最后姑且算是完成了这个破网页，后续优化什么的，随缘了。

详细代码可以直接看仓库。整个项目概括来说，是用`vue.js`写模板，接着用自带的build工具输出，然后通过`manage.py`把md文件渲染进模板形成静态网页，最后再同步到github上就ok啦，轻松愉快。

实际上`vue`自带有Server-side rendering，不过出于几个原因我最后还是没有用。一个是因为我py脚本差不多写完了才看到这个功能，一个是因为它主要是面向`Node.js`的服务器的，学习Node又需要时间成本，而且在github page上（好像？）比较难实现。所以就最后还是使用了现在这个笨办法。

这里列一些开发过程中遇到的细节问题，作为这次开发的总结了。

### `vue-cli`生成的脚手架配置修改

`vue-cli`自己生成的脚手架里面，配置主要集中于`vue.config.js`这个文件中。[参考官方指南](https://cli.vuejs.org/zh/config)根据需求，需要修改的内容包括：

1. 输出路径 `outputDir`

   它自带的输出路径是在`(project folder)/dist`里面，而github page要求页面要么处于根目录要么处于`./docs`目录下。因此，这里把build路径配置成`./docs`

2. 公共资源路径 `publicPath`

   CLI默认的build出来的内容是会被部署在一个服务器的根目录里面，所以build出来的html里面共用资源的路径都是绝对目录。参考指南，根据具体环境配置不同的路径。

3. 输出多页面 `pages`

   CLI生成的模板项目是一个标准的单页应用，配合`vue-route`就可以完成大部分业务逻辑。现在想了一下，其实应该是可以利用`vue-router`动态配置路由，让前端读取并渲染md文件，实现展示博客的业务需求的（新目标get）。不过还是暂先撇开`vue-router`，以后再说。博客需要至少有一个主页和一个博客内容的展示页面。这样必然就需要输出两个页面，也就是需要在`vue.config.js`里面配置上`pages`属性。

4. 配置别名

   按照官方指南的`chainWebpack`的方式配置就行。





